# $name$ Service Configuration

# Application-specific settings
$name;format="norm"$ {
  # HTTP API server configuration
  api {
    host = "0.0.0.0"
    host = \${?API_HOST}
    port = 8080
    port = \${?API_PORT}
  }
}

# Include the base pekko reference configuration
include "reference.conf"

# PostgreSQL settings
postgres-db {
  host = "localhost"
  host = \${?POSTGRES_HOST}
  port = 5432
  port = \${?POSTGRES_PORT}
  database = "postgres"
  database = \${?POSTGRES_DATABASE}
  username = "postgres"
  username = \${?POSTGRES_USERNAME}
  password = "postgres"
  password = \${?POSTGRES_PASSWORD}
  maximum-pool-size = 10
  maximum-pool-size = \${?POSTGRES_POOL_SIZE}
  application-name = "$name$"
}

# Pekko cluster configuration for local single-node development
pekko {
  remote.artery {
    canonical {
      hostname = "127.0.0.1"
      hostname = \${?PEKKO_HOST}
      port = 2551
      port = \${?PEKKO_PORT}
    }
  }

  cluster {
    seed-nodes = ["pekko://main@127.0.0.1:2551"]
    seed-nodes = \${?PEKKO_SEED_NODES}
  }
}
